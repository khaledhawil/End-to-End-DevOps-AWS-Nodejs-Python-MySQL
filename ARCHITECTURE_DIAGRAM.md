# Kubernetes Architecture Diagram
## Task Management System - Production Infrastructure

---

## Complete Kubernetes Architecture

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                         RKE2 KUBERNETES CLUSTER                                â”ƒ
â”ƒ                              3-Node Cluster                                    â”ƒ
â”ƒ                    (1 Master + 2 Worker Nodes)                                 â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                       â”‚
                                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                             â”‚                             â”‚
         â”‚                             â”‚                             â”‚
â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”“          â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”“          â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”“
â”ƒ  FLUX-SYSTEM    â”ƒ          â”ƒ   TMS-APP       â”ƒ          â”ƒ   MONITORING    â”ƒ
â”ƒ   NAMESPACE     â”ƒ          â”ƒ   NAMESPACE     â”ƒ          â”ƒ   NAMESPACE     â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›          â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›          â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
```

---

## Detailed View: TMS-APP Namespace

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                            NAMESPACE: tms-app                                 â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                      â”‚
                                      â”‚ External Traffic
                                      â”‚ http://10.205.144.151
                                      â”‚
                                      â–¼
              â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
              â”ƒ        INGRESS CONTROLLER (Nginx)           â”ƒ
              â”ƒ                                             â”ƒ
              â”ƒ  â€¢ Path-based routing                       â”ƒ
              â”ƒ  â€¢ SSL/TLS termination                      â”ƒ
              â”ƒ  â€¢ Load balancing                           â”ƒ
              â”ƒ                                             â”ƒ
              â”ƒ  Routes:                                    â”ƒ
              â”ƒ    /              â†’ frontend-service        â”ƒ
              â”ƒ    /api/auth/*    â†’ auth-service           â”ƒ
              â”ƒ    /api/tasks/*   â†’ task-service           â”ƒ
              â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                       â”‚                â”‚                â”‚
                       â”‚                â”‚                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚             â”‚                    â”‚
        â–¼                       â–¼             â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  frontend-    â”‚      â”‚  auth-service  â”‚  â”‚  task-service  â”‚  â”‚  mysql-     â”‚
â”‚  service      â”‚      â”‚  (ClusterIP)   â”‚  â”‚  (ClusterIP)   â”‚  â”‚  service    â”‚
â”‚  (ClusterIP)  â”‚      â”‚  Port: 8001    â”‚  â”‚  Port: 8002    â”‚  â”‚  (ClusterIP)â”‚
â”‚  Port: 80     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Port: 3306 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                    â”‚                 â”‚
        â”‚                       â”‚                    â”‚                 â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â”‚                     â”‚                    â”‚                 â”‚
        â”‚ â”‚  Network Policies:  â”‚                    â”‚                 â”‚
        â”‚ â”‚  â€¢ Default Deny All â”‚                    â”‚                 â”‚
        â”‚ â”‚  â€¢ Explicit Allow   â”‚                    â”‚                 â”‚
        â”‚ â”‚                     â”‚                    â”‚                 â”‚
        â–¼ â–¼                     â–¼                    â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         POD LAYER WITH HPA                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Frontend Pod   â”‚  â”‚    â”‚  â”‚ Auth Pod       â”‚  â”‚    â”‚  â”‚ Task Pod    â”‚ â”‚
â”‚  â”‚                â”‚  â”‚    â”‚  â”‚                â”‚  â”‚    â”‚  â”‚             â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚   Nginx    â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  Node.js   â”‚ â”‚  â”‚    â”‚  â”‚ â”‚ Python  â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  (React)   â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  Express   â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  Flask  â”‚ â”‚ â”‚
â”‚  â”‚ â”‚            â”‚ â”‚  â”‚    â”‚  â”‚ â”‚            â”‚ â”‚  â”‚    â”‚  â”‚ â”‚         â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Resources: â”‚ â”‚  â”‚    â”‚  â”‚ â”‚ Resources: â”‚ â”‚  â”‚    â”‚  â”‚ â”‚Resourcesâ”‚ â”‚ â”‚
â”‚  â”‚ â”‚  CPU: 50m  â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  CPU: 100m â”‚ â”‚  â”‚    â”‚  â”‚ â”‚CPU:100m â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  RAM: 64Mi â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  RAM: 128Miâ”‚ â”‚  â”‚    â”‚  â”‚ â”‚RAM:128Miâ”‚ â”‚ â”‚
â”‚  â”‚ â”‚            â”‚ â”‚  â”‚    â”‚  â”‚ â”‚            â”‚ â”‚  â”‚    â”‚  â”‚ â”‚         â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Security:  â”‚ â”‚  â”‚    â”‚  â”‚ â”‚ Security:  â”‚ â”‚  â”‚    â”‚  â”‚ â”‚Security:â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  nonRoot   â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  nonRoot   â”‚ â”‚  â”‚    â”‚  â”‚ â”‚ nonRoot â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  UID: 1000 â”‚ â”‚  â”‚    â”‚  â”‚ â”‚  UID: 1000 â”‚ â”‚  â”‚    â”‚  â”‚ â”‚UID:1000 â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                â”‚  â”‚    â”‚  â”‚                â”‚  â”‚    â”‚  â”‚             â”‚ â”‚
â”‚  â”‚ Health:        â”‚  â”‚    â”‚  â”‚ Health:        â”‚  â”‚    â”‚  â”‚ Health:     â”‚ â”‚
â”‚  â”‚  âœ“ Liveness   â”‚  â”‚    â”‚  â”‚  âœ“ Liveness   â”‚  â”‚    â”‚  â”‚  âœ“ Liveness â”‚ â”‚
â”‚  â”‚  âœ“ Readiness  â”‚  â”‚    â”‚  â”‚  âœ“ Readiness  â”‚  â”‚    â”‚  â”‚  âœ“ Readinessâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                      â”‚    â”‚                      â”‚    â”‚                  â”‚
â”‚  HPA:                â”‚    â”‚  HPA:                â”‚    â”‚  HPA:            â”‚
â”‚  Min: 1  Max: 5      â”‚    â”‚  Min: 1  Max: 10     â”‚    â”‚  Min: 1  Max: 10 â”‚
â”‚  CPU: 70%  Mem: 80%  â”‚    â”‚  CPU: 70%  Mem: 80%  â”‚    â”‚  CPU: 70% Mem:80%â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚                          â”‚
                                       â”‚                          â”‚
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â”‚ MySQL Protocol
                                                  â”‚ Port: 3306
                                                  â”‚
                                                  â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚     MySQL Pod            â”‚
                                    â”‚                          â”‚
                                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                    â”‚  â”‚   MySQL 8.0        â”‚  â”‚
                                    â”‚  â”‚                    â”‚  â”‚
                                    â”‚  â”‚  Resources:        â”‚  â”‚
                                    â”‚  â”‚   CPU: 500m        â”‚  â”‚
                                    â”‚  â”‚   RAM: 1Gi         â”‚  â”‚
                                    â”‚  â”‚                    â”‚  â”‚
                                    â”‚  â”‚  Tables:           â”‚  â”‚
                                    â”‚  â”‚   â€¢ users          â”‚  â”‚
                                    â”‚  â”‚   â€¢ tasks          â”‚  â”‚
                                    â”‚  â”‚                    â”‚  â”‚
                                    â”‚  â”‚  Security:         â”‚  â”‚
                                    â”‚  â”‚   â€¢ Secrets        â”‚  â”‚
                                    â”‚  â”‚   â€¢ NetworkPolicy  â”‚  â”‚
                                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                    â”‚           â”‚              â”‚
                                    â”‚           â–¼              â”‚
                                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                    â”‚  â”‚ PersistentVolume   â”‚  â”‚
                                    â”‚  â”‚                    â”‚  â”‚
                                    â”‚  â”‚  Storage: 10Gi     â”‚  â”‚
                                    â”‚  â”‚  Type: local-path  â”‚  â”‚
                                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SUPPORTING RESOURCES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ServiceAccount â”‚  â”‚  NetworkPolicy   â”‚  â”‚  PodDisruptionBudgetâ”‚    â”‚
â”‚  â”‚                 â”‚  â”‚                  â”‚  â”‚                     â”‚    â”‚
â”‚  â”‚  â€¢ frontend-sa  â”‚  â”‚  â€¢ default-deny  â”‚  â”‚  â€¢ frontend-pdb     â”‚    â”‚
â”‚  â”‚  â€¢ auth-sa      â”‚  â”‚  â€¢ frontend-np   â”‚  â”‚  â€¢ auth-pdb         â”‚    â”‚
â”‚  â”‚  â€¢ task-sa      â”‚  â”‚  â€¢ auth-np       â”‚  â”‚  â€¢ task-pdb         â”‚    â”‚
â”‚  â”‚  â€¢ mysql-sa     â”‚  â”‚  â€¢ task-np       â”‚  â”‚                     â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ mysql-np      â”‚  â”‚  minAvailable: 1    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ConfigMaps     â”‚  â”‚  Secrets         â”‚  â”‚  RBAC               â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚                  â”‚  â”‚                     â”‚    â”‚
â”‚  â”‚  â€¢ mysql-config â”‚  â”‚  â€¢ jwt-secret    â”‚  â”‚  â€¢ Role             â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ db-password   â”‚  â”‚  â€¢ RoleBinding      â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ db-username   â”‚  â”‚  â€¢ secret-reader    â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ sql-endpoint  â”‚  â”‚                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## GitOps Flow with Flux CD

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                         FLUX-SYSTEM NAMESPACE                             â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚         GitHub Repository                   â”‚
              â”‚  (Source of Truth)                          â”‚
              â”‚                                             â”‚
              â”‚  ğŸ“ k8s/                                    â”‚
              â”‚    â”œâ”€â”€ base/                                â”‚
              â”‚    â””â”€â”€ overlays/local/                      â”‚
              â”‚  ğŸ“ flux/clusters/local/                    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Git Polling (30s interval)
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Flux GitRepository Resource              â”‚
              â”‚                                             â”‚
              â”‚  â€¢ Monitors: master branch                  â”‚
              â”‚  â€¢ Interval: 30s                            â”‚
              â”‚  â€¢ URL: github.com/...                      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Flux Kustomization Controller            â”‚
              â”‚                                             â”‚
              â”‚  â€¢ Applies: k8s/overlays/local              â”‚
              â”‚  â€¢ Reconciles: 1m                           â”‚
              â”‚  â€¢ Health Check: âœ“                          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚         Kubernetes API Server               â”‚
              â”‚                                             â”‚
              â”‚  â€¢ Creates/Updates Resources                â”‚
              â”‚  â€¢ Applies to: tms-app namespace            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      Application Deployed                   â”‚
              â”‚                                             â”‚
              â”‚  âœ“ Deployments created                      â”‚
              â”‚  âœ“ Services configured                      â”‚
              â”‚  âœ“ Pods running                             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              Flux Components in flux-system                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    â”‚  â”‚ source-controller  â”‚    â”‚ kustomize-controller    â”‚         â”‚
    â”‚  â”‚                    â”‚    â”‚                         â”‚         â”‚
    â”‚  â”‚ â€¢ Git sync         â”‚    â”‚ â€¢ Apply manifests       â”‚         â”‚
    â”‚  â”‚ â€¢ Image registry   â”‚    â”‚ â€¢ Health checks         â”‚         â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
    â”‚                                                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    â”‚  â”‚ helm-controller    â”‚    â”‚ notification-controller â”‚         â”‚
    â”‚  â”‚                    â”‚    â”‚                         â”‚         â”‚
    â”‚  â”‚ â€¢ HelmRelease      â”‚    â”‚ â€¢ Alerts                â”‚         â”‚
    â”‚  â”‚ â€¢ Prometheus stack â”‚    â”‚ â€¢ Events                â”‚         â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Monitoring Stack Architecture

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                        MONITORING NAMESPACE                               â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ServiceMonitor Resources     â”‚
                    â”‚                                â”‚
                    â”‚  â€¢ auth-service-monitor        â”‚
                    â”‚  â€¢ task-service-monitor        â”‚
                    â”‚  â€¢ frontend-monitor            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ Scrape Configuration
                                â”‚
                                â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚         Prometheus Server                   â”‚
              â”‚                                             â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  â”‚  Time Series Database                â”‚  â”‚
              â”‚  â”‚                                       â”‚  â”‚
              â”‚  â”‚  â€¢ Retention: 7 days                 â”‚  â”‚
              â”‚  â”‚  â€¢ Storage: 10Gi PVC                 â”‚  â”‚
              â”‚  â”‚  â€¢ Scrape Interval: 30s              â”‚  â”‚
              â”‚  â”‚                                       â”‚  â”‚
              â”‚  â”‚  Metrics:                            â”‚  â”‚
              â”‚  â”‚   - http_requests_total              â”‚  â”‚
              â”‚  â”‚   - http_request_duration_seconds    â”‚  â”‚
              â”‚  â”‚   - process_cpu_seconds_total        â”‚  â”‚
              â”‚  â”‚   - nodejs_heap_size_used_bytes      â”‚  â”‚
              â”‚  â”‚   - mysql_connections                â”‚  â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚                                             â”‚
              â”‚  Resources:                                 â”‚
              â”‚   CPU: 200m / 1000m                         â”‚
              â”‚   RAM: 512Mi / 2Gi                          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ PromQL Queries
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚           Grafana Dashboard                 â”‚
              â”‚                                             â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  â”‚  Visualization Layer                  â”‚  â”‚
              â”‚  â”‚                                       â”‚  â”‚
              â”‚  â”‚  Dashboards:                         â”‚  â”‚
              â”‚  â”‚   ğŸ“Š Cluster Overview               â”‚  â”‚
              â”‚  â”‚   ğŸ“Š Node Metrics                   â”‚  â”‚
              â”‚  â”‚   ğŸ“Š Pod Resources                  â”‚  â”‚
              â”‚  â”‚   ğŸ“Š Application Performance        â”‚  â”‚
              â”‚  â”‚   ğŸ“Š MySQL Database Stats           â”‚  â”‚
              â”‚  â”‚                                       â”‚  â”‚
              â”‚  â”‚  Access:                             â”‚  â”‚
              â”‚  â”‚   ğŸŒ Port: 3000                     â”‚  â”‚
              â”‚  â”‚   ğŸ” Admin: admin / admin123        â”‚  â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚                                             â”‚
              â”‚  Storage: 5Gi PVC                           â”‚
              â”‚  Resources: CPU: 100m / RAM: 256Mi          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚          AlertManager                       â”‚
              â”‚                                             â”‚
              â”‚  â€¢ Routes alerts based on severity          â”‚
              â”‚  â€¢ Integrations:                            â”‚
              â”‚    - Slack                                  â”‚
              â”‚    - Email                                  â”‚
              â”‚    - PagerDuty                              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CI/CD Pipeline Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GITHUB ACTIONS PIPELINE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Developer Push
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  GitHub Repository  â”‚
  â”‚  (master branch)    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Webhook Trigger
             â”‚
             â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                    GitHub Actions Workflow                       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                                  â”‚
  â”‚  Stage 1: Generate Version                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  version = 1.0.${github.run_number}                    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                         â”‚                                       â”‚
  â”‚                         â–¼                                       â”‚
  â”‚  Stage 2: Detect Changes                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  â€¢ Check modified paths                                 â”‚    â”‚
  â”‚  â”‚  â€¢ Output: auth-service: true                           â”‚    â”‚
  â”‚  â”‚           task-service: false                           â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                         â”‚                                       â”‚
  â”‚                         â–¼                                       â”‚
  â”‚  Stage 3: Security Scan (Trivy)                                 â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  â€¢ Scan filesystem for vulnerabilities                  â”‚    â”‚
  â”‚  â”‚  â€¢ Generate SARIF report                                â”‚    â”‚
  â”‚  â”‚  â€¢ Upload to GitHub Security tab                        â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                         â”‚                                       â”‚
  â”‚                         â–¼                                       â”‚
  â”‚  Stage 4: Build Docker Images                                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  docker build -t user/task-manager-auth:1.0.26         â”‚    â”‚
  â”‚  â”‚  docker push user/task-manager-auth:1.0.26             â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                         â”‚                                       â”‚
  â”‚                         â–¼                                       â”‚
  â”‚  Stage 5: Update K8s Manifests                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  sed -i 's|image:.*auth.*|image: user/...1.0.26|'     â”‚    â”‚
  â”‚  â”‚  git commit && git push                                 â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                         â”‚                                       â”‚
  â”‚                         â–¼                                       â”‚
  â”‚  Stage 6: Slack Notification                                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  âœ“ Pipeline Success                                     â”‚    â”‚
  â”‚  â”‚  ğŸ“¦ Version: 1.0.26                                     â”‚    â”‚
  â”‚  â”‚  ğŸš€ Deployed by Flux CD                                 â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ Manifest Updated
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Flux CD Detects      â”‚
                    â”‚   Changes & Deploys    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Network Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       NETWORK TRAFFIC FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Internet User
         â”‚
         â”‚ HTTP/HTTPS
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Load Balancer  â”‚
    â”‚  (External IP)  â”‚
    â”‚ 10.205.144.151  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         Ingress Controller                  â”‚
    â”‚                                             â”‚
    â”‚  Rules:                                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Path      â†’  Backend Service          â”‚  â”‚
    â”‚  â”‚ /         â†’  frontend:80              â”‚  â”‚
    â”‚  â”‚ /api/auth â†’  auth-service:8001        â”‚  â”‚
    â”‚  â”‚ /api/tasksâ†’  task-service:8002        â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚              â”‚              â”‚
           â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ frontend â”‚   â”‚   auth   â”‚   â”‚   task   â”‚
    â”‚ service  â”‚   â”‚ service  â”‚   â”‚ service  â”‚
    â”‚ :80      â”‚   â”‚ :8001    â”‚   â”‚ :8002    â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚              â”‚              â”‚
          â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                     â”‚
          â”‚                     â–¼
          â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚  mysql   â”‚
          â”‚              â”‚ service  â”‚
          â”‚              â”‚  :3306   â”‚
          â”‚              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚                    â”‚
          â”‚                    â–¼
          â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚  MySQL   â”‚
          â”‚              â”‚   Pod    â”‚
          â”‚              â”‚   + PVC  â”‚
          â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â””â”€â”€â–º (Frontend makes API calls to auth/task services)


  Network Policy Enforcement:
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  âœ“ Frontend â†’ Auth Service (8001/TCP)
  âœ“ Frontend â†’ Task Service (8002/TCP)
  âœ“ Auth Service â†’ MySQL (3306/TCP)
  âœ“ Task Service â†’ MySQL (3306/TCP)
  
  âœ— Frontend â†’ MySQL (BLOCKED)
  âœ— Auth â†” Task (BLOCKED - no direct communication)
  âœ— External â†’ MySQL (BLOCKED)
```

---

## Resource Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    KUBERNETES RESOURCE HIERARCHY                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          Cluster (RKE2)
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
           Namespace        Namespace      Namespace
          flux-system       tms-app       monitoring
                â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚        â”‚      â”‚      â”‚        â”‚        â”‚
  GitRepo  Kustomization â”‚      â”‚   HelmRepo HelmRelease â”‚
                         â”‚      â”‚                        â”‚
                     FluxCD     â”‚                   Prometheus
                                â”‚                      Stack
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
           Deployments      Services       ConfigMaps
                â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚               â”‚
    â”‚           â”‚        â”‚      â”‚               â”‚
 frontend    auth-svc  task-svc â”‚               â”‚
    â”‚           â”‚        â”‚      â”‚               â”‚
    â–¼           â–¼        â–¼      â–¼               â–¼
  Pods        Pods     Pods  ClusterIP      Config Data
    â”‚           â”‚        â”‚
    â”‚           â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚                   â”‚
    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”           â”‚
    â”‚                   â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Volumes
                        â”‚
                   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                   â”‚   PVC   â”‚
                   â”‚  (10Gi) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                   PersistentVolume
                   (local-path)
```

---

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SECURITY ARCHITECTURE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 7: External Access
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Ingress Controller (SSL/TLS)                                      â”‚
â”‚ â€¢ Rate Limiting (Optional)                                          â”‚
â”‚ â€¢ DDoS Protection                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
Layer 6: Network Policies    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Zero-Trust Model          â–¼                                       â”‚
â”‚ â€¢ Default Deny All      Explicit Allow Rules                        â”‚
â”‚ â€¢ Micro-segmentation        â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
Layer 5: RBAC                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ ServiceAccounts           â–¼                                       â”‚
â”‚ â€¢ Roles & RoleBindings  Least Privilege                            â”‚
â”‚ â€¢ Secret Access Control     â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
Layer 4: Pod Security         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Non-root containers       â–¼                                       â”‚
â”‚ â€¢ Read-only filesystems  SecurityContext                           â”‚
â”‚ â€¢ Dropped capabilities      â”‚                                       â”‚
â”‚ â€¢ Seccomp profiles          â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
Layer 3: Application Security â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ JWT Authentication        â–¼                                       â”‚
â”‚ â€¢ Rate Limiting         Middleware                                 â”‚
â”‚ â€¢ Input Validation          â”‚                                       â”‚
â”‚ â€¢ CORS                      â”‚                                       â”‚
â”‚ â€¢ Security Headers          â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
Layer 2: Data Security        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Secrets (Base64)          â–¼                                       â”‚
â”‚ â€¢ Bcrypt passwords      Encryption                                 â”‚
â”‚ â€¢ Encrypted PVCs            â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
Layer 1: Infrastructure       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ RKE2 Hardening            â–¼                                       â”‚
â”‚ â€¢ etcd Encryption       Host Security                              â”‚
â”‚ â€¢ Firewall Rules            â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment States & Rollout Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ROLLING UPDATE STRATEGY                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State 1: Current Version (v1.0.25)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auth Service Deployment               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ v25  â”‚  â”‚ v25  â”‚  â”‚ v25  â”‚         â”‚
â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚    All pods healthy (3 replicas)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State 2: New Version Detected (v1.0.26)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flux detects manifest change          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ v25  â”‚  â”‚ v25  â”‚  â”‚ v25  â”‚         â”‚
â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                        â”‚
â”‚  New ReplicaSet created for v1.0.26    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State 3: Rolling Update In Progress
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  maxUnavailable: 1, maxSurge: 1        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â” â”‚
â”‚  â”‚ v25  â”‚  â”‚ v25  â”‚  â”‚ v26  â”‚  â”‚v26 â”‚ â”‚
â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚  â”‚  âŸ³   â”‚  â”‚ âŒ› â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜ â”‚
â”‚   Old        Old      New      New    â”‚
â”‚  (Ready)   (Ready) (Starting)(Pending)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State 4: Health Checks Running
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Readiness Probe: 10s delay, 5s period â”‚
â”‚  Liveness Probe: 30s delay, 10s period â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ v25  â”‚  â”‚ v26  â”‚  â”‚ v26  â”‚         â”‚
â”‚  â”‚  â³  â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  Terminating  Ready     Ready          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State 5: Rollout Complete
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  All pods running new version           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ v26  â”‚  â”‚ v26  â”‚  â”‚ v26  â”‚         â”‚
â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚  â”‚  âœ“   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  Old ReplicaSet scaled to 0            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PodDisruptionBudget ensures:
â€¢ minAvailable: 1 pod always running
â€¢ No more than 1 pod down during updates
â€¢ Voluntary disruptions are safe
```

---

## Complete System Overview

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ              TASK MANAGEMENT SYSTEM - PRODUCTION KUBERNETES            â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

Infrastructure:               Application:              Operations:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”             â”â”â”â”â”â”â”â”â”â”â”â”â”             â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ RKE2 Cluster               â€¢ React Frontend          â€¢ GitHub Actions
â€¢ 3 Nodes                    â€¢ Node.js Auth API        â€¢ Flux GitOps
â€¢ 16 CPU Cores               â€¢ Python Task API         â€¢ Prometheus
â€¢ 32 GB RAM                  â€¢ MySQL Database          â€¢ Grafana
â€¢ 150 GB Storage                                       â€¢ AlertManager

Security:                     Networking:               Scaling:
â”â”â”â”â”â”â”â”â”â”                   â”â”â”â”â”â”â”â”â”â”â”               â”â”â”â”â”â”â”â”â”
â€¢ JWT Auth                   â€¢ NetworkPolicies         â€¢ HPA (1-10)
â€¢ Rate Limiting              â€¢ Ingress (Nginx)         â€¢ PDB
â€¢ RBAC                       â€¢ ClusterIP Services      â€¢ Rolling Updates
â€¢ Secrets                    â€¢ Zero-Trust Model        â€¢ Health Checks
â€¢ Non-root Pods

Monitoring:                   Storage:                  High Availability:
â”â”â”â”â”â”â”â”â”â”â”                  â”â”â”â”â”â”â”â”â”                â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ ServiceMonitors            â€¢ PersistentVolumes       â€¢ Multi-replica
â€¢ Grafana Dashboards         â€¢ local-path              â€¢ Load Balancing
â€¢ Prometheus Metrics         â€¢ 10Gi Database           â€¢ Self-healing
â€¢ Slack Alerts               â€¢ Backup Ready            â€¢ Zero-downtime

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Service Endpoints                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend:    http://10.205.144.151/                                  â”‚
â”‚  Auth API:    http://10.205.144.151/api/auth                          â”‚
â”‚  Task API:    http://10.205.144.151/api/tasks                         â”‚
â”‚  Grafana:     kubectl port-forward -n monitoring svc/grafana 3000:80  â”‚
â”‚  Prometheus:  kubectl port-forward -n monitoring svc/prometheus 9090  â”‚
â”‚  Weave GitOps: kubectl port-forward -n flux-system svc/weave 9001     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Quick Reference Commands

```bash
# Application Management
kubectl get pods -n tms-app                    # View application pods
kubectl logs -f -n tms-app <pod-name>          # Stream logs
kubectl describe pod -n tms-app <pod-name>     # Pod details
kubectl exec -it -n tms-app <pod-name> -- sh   # Shell access

# Flux GitOps
flux get kustomizations                        # Check sync status
flux reconcile kustomization <name>            # Force sync
flux logs --level=error                        # View Flux errors

# Scaling & Resources
kubectl scale deployment <name> --replicas=5 -n tms-app    # Manual scale
kubectl top pods -n tms-app                    # Resource usage
kubectl top nodes                              # Node resources
kubectl get hpa -n tms-app                     # Autoscaler status

# Monitoring
kubectl port-forward -n monitoring svc/kube-prometheus-stack-grafana 3000:80
# Access Grafana at http://localhost:3000 (admin/admin123)

# Troubleshooting
kubectl get events -n tms-app --sort-by='.lastTimestamp'   # Recent events
kubectl describe hpa -n tms-app <hpa-name>                 # HPA details
kubectl rollout status deployment/<name> -n tms-app        # Deployment status
kubectl rollout restart deployment/<name> -n tms-app       # Restart deployment
```

---

**Document Version:** 1.0
**Last Updated:** January 21, 2026
**Cluster:** RKE2 (local)
**Namespace:** tms-app
